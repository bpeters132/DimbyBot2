#!/bin/sh\nset -e\n\n# Generate application.yml from environment variables\ncat > application.yml << EOF\nserver:\n  port: \${LAVALINK_PORT:-2333}\nplugins:\n  youtube:\n    enabled: true\n    allowSearch: true\n    allowDirectVideoIds: true\n    allowDirectPlaylistIds: true\n    pot:\n      token: \"\${LAVALINK_YOUTUBE_POT_TOKEN:-your token here}\"\n      visitorData: \"\${LAVALINK_YOUTUBE_POT_VISITORDATA:-your visitor data here}\"\n    clients:\n      - WEB\n      - WEBEMBEDDED\n  lavasrc:\n    providers:\n      - \"ytsearch:\\\"%ISRC%\\\"\"\n      - \"ytsearch:%QUERY%\"\n    sources:\n      spotify: \${LAVALINK_SPOTIFY_ENABLED:-true}\n      youtube: true\n    spotify:\n      clientId: \"\${LAVALINK_SPOTIFY_CLIENT_ID:-spotify client id here}\"\n      clientSecret: \"\${LAVALINK_SPOTIFY_CLIENT_SECRET:-spotify client secret here}\"\n      countryCode: \"\${LAVALINK_SPOTIFY_COUNTRY_CODE:-US}\"\n      playlistLoadLimit: \${LAVALINK_SPOTIFY_PLAYLIST_LOAD_LIMIT:-6}\n      albumLoadLimit: \${LAVALINK_SPOTIFY_ALBUM_LOAD_LIMIT:-6}\n      resolveArtistsInSearch: true\n      localFiles: false\nlavalink:\n  plugins:\n    - dependency: \"dev.lavalink.youtube:youtube-plugin:1.12.0\"\n      snapshot: false\n    - dependency: \"com.github.topi314.lavasrc:lavasrc-plugin:4.4.2\"\n      snapshot: false\n  server:\n    password: \"\${LAVALINK_PASSWORD:-your lavalink password here}\"\n    sources:\n      youtube: false\n      spotify: false\nEOF\n\n# Start Lavalink\nexec java -jar Lavalink.jar 